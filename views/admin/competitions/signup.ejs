<% include ../../partials/header %>

<% if(!competition) { %>

<div id='noCompetition' class='container-full'>
  <br>
  <br>
  <br>
  <h2 class='text-center'>Zatím neprobíhá žádný závod</h2>
</div>

<% } else { %>

<div class="container">
  <h1 id="formHeading">Přihláška na
    <%= competition.title %>
  </h1>
  <form id="addNewForm" action="/<%= competition._id %>/prihlaska" method="POST">
    <div class="form-group">
      <lable for="firstName">Jméno</lable>
      <input class="form-control" type="text" name="firstName" placeholder="jmeno">
    </div>
    <div class="form-group">
      <lable for="lastName">Příjmení</lable>
      <input class="form-control" type="text" name="lastName" placeholder="prijmeni">
    </div>
    <div class="form-group">
      <lable for="dateOfBirth">Datum narození</lable>
      <input class="form-control" type="date" name="dateOfBirth" placeholder="datum narozeni">
    </div>
    <% competition.categories.forEach(function(category) { %>
    <div class="radio">
      <label>
        <input type="radio" name="category" value="<%= category %>">
        <%= category %>
      </label>
    </div>
    <% }); %>
    <div class='form-group'>
      <label for='dogs'>Jména psů/psa</label>
      <input class='form-control' type='text' name='dogs' id='dogs'>
    </div>
    <div class='form-group'>
      <label for='dogsRace'>Rasy psů/psa</label>
      <input class='form-control' type='text' name='dogsRace' id='dogsRace'>
    </div>
    <button class="btn btn-primary">Odeslat</button>
  </form>
  <a href="/" class="btn btn-default">Zpět</a>
</div>

<% } %>

<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.17.0/jquery.validate.min.js'></script>
<script src='/lib/messages_cs.js'></script>
<script>
  $('#addNewForm').validate({
    rules: {
      firstName: "required",
      lastName: "required",
      dateOfBirth: "required",
      email: {
        email: true
      },
      category: {
        required: true
      },
      dogs: "required",
      dogsRace: "required"
    }
  });
</script>

</body>

</html>